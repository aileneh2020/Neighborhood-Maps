(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,a){},12:function(e){e.exports={restaurants:[{name:"Uncle Pete's Cafe",street:"14276 Beach Blvd",city:"Westminster",state:"CA",zip:"92683",url:"",position:{lat:33.7549478,lng:-117.9890148}},{name:"Brodard Chateau",street:"9100 Trask Ave",city:"Garden Grove",state:"CA",zip:"92844",url:"http://brodard.net/Chateau/",position:{lat:33.7663485,lng:-117.9706345}},{name:"SoCal Wings",street:"14502 Beach Blvd",city:"Westminster",state:"CA",zip:"92683",url:"http://www.socal-wings.com/",position:{lat:33.7517414,lng:-117.9891716}},{name:"The Luxe Buffet",street:"2008 Westminster Mall",city:"Westminster",state:"CA",zip:"92683",url:"https://www.theluxebuffet.com/index.html",position:{lat:33.74729109999999,lng:-118.0133953}},{name:"Pho Quang Trung",street:"9211 Bolsa Ave",city:"Westminster",state:"CA",zip:"92683",url:"",position:{lat:33.74509510000001,lng:-117.9679561}}]}},15:function(e,t,a){e.exports=a(36)},36:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(2),o=a.n(i),s=a(3),l=a(4),c=a(6),u=a(5),d=a(7),m=(a(11),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={query:"",activeListItem:{}},a.updateQuery=function(e){a.setState({query:e},a.filterLocations(a.props.restaurants,e)),document.getElementById("infoDisplay").style.visibility="hidden"},a.filterLocations=function(e,t){if(t.length>0){var n=e.filter(function(e){return e.name.toLowerCase().includes(t.toLowerCase())});a.props.filterFunc(n)}else a.props.filterFunc(a.props.restaurants)},a.listItemClicked=function(e,t){var n=a.props.filteredList[t];a.setState({activeListItem:n}),a.props.getItemClicked(n),document.getElementById("infoDisplay").style.visibility="visible"},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.filteredList,a=this.state.activeListItem;return r.a.createElement("div",{id:"sidebar"},r.a.createElement("button",{className:"closeMenuBtn","aria-label":"close menu",onClick:this.props.toggleSidebar},"X"),r.a.createElement("div",{id:"search"},r.a.createElement("input",{id:"search-box",role:"searchbox","aria-label":"search filter",type:"text",placeholder:"Filter restaurants by name",value:this.state.query,onChange:function(t){return e.updateQuery(t.target.value)}})),r.a.createElement("div",null,t.length?t.map(function(t,a){return r.a.createElement("button",{className:"listItem","aria-label":"listing for "+t.name,key:a,onClick:function(n){return e.listItemClicked(t,a)}},t.name)}):"No Results Found"),r.a.createElement("div",{id:"infoDisplay"},r.a.createElement("h2",null,"RESTAURANT DETAILS"),r.a.createElement("h3",null,a.name),r.a.createElement("h3",null,a.street),r.a.createElement("h3",null,a.city+", "+a.state+", "+a.zip),a.url?r.a.createElement("a",{"aria-label":"restaurant website",href:a.url,target:"_blank",rel:"noopener noreferrer"},a.url):""))}}]),t}(n.Component)),p=a(13),h=a(9),f="0KIQPKH3YXQ0JVIUFLOKB315XNQ2VNE31YRMWYIRFT42S3CV",g="OYN5K2A3JMLM3FHP2OVB3CVK4CLP5FJDPXJNSRPHFJVWDRGV",v="20181108",k=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={map:null,showInfoWindow:!1,allMarkers:[],activeMarker:{},currMarker:{}},a.mapLoaded=function(e,t){a.setState({map:t}),a.loadMarkers(e)},a.loadMarkers=function(e){if(a.props.restaurants.length){var t=[];a.props.restaurants.map(function(e,n){var r=new a.props.google.maps.Marker({map:a.state.map,name:e.name,url:e.url,position:{lat:e.position.lat,lng:e.position.lng},key:e.index,animation:a.props.google.maps.Animation.null});r.addListener("click",function(){a.onMarkerClick(e,r)}),t.push(r)}),a.setState({allMarkers:t})}},a.getVenueData=function(e,t){return t.response.venues.filter(function(t){return t.name.includes(e.name)||e.name.includes(t.name)})},a.onMarkerClick=function(e,t){a.props.resetItemClicked();var n="https://api.foursquare.com/v2/venues/search?client_id=".concat(f,"&client_secret=").concat(g,"&v=").concat(v,"&ll=").concat(e.position.lat,",").concat(e.position.lng,"&llAcc=50"),r=new Headers,i=new Request(n,{method:"GET",headers:r});fetch(i).then(function(e){return e.json()}).then(function(t){var n=a.getVenueData(e,t);if(a.setState({currMarker:Object(p.a)({},e,{fs:n[0]})}),a.state.currMarker.fs){var r="https://api.foursquare.com/v2/venues/".concat(n[0].id,"/photos?client_id=").concat(f,"&client_secret=").concat(g,"&v=").concat(v,"&limit=1");fetch(r).then(function(e){return e.json()}).then(function(e){a.setState({currMarker:Object(p.a)({},void 0,{image:e.response.photos})})}).catch(function(e){return alert("Unable to retrieve data. "+e)})}}).catch(function(e){return alert("Unable to retrieve data. "+e)}),a.state.showInfoWindow&&a.state.activeMarker.setAnimation(a.props.google.maps.Animation.null),a.setState({activeMarker:t,showInfoWindow:!0}),t.setAnimation(a.props.google.maps.Animation.BOUNCE),setTimeout(function(){return t.setAnimation(a.props.google.maps.Animation.null)},1e3)},a.onClose=function(){a.state.showInfoWindow&&(a.state.activeMarker.setAnimation(a.props.google.maps.Animation.null),a.setState({showInfoWindow:!1,activeMarker:null}))},a.onMapClick=function(e){a.state.showInfoWindow&&(a.state.activeMarker.setAnimation(a.props.google.maps.Animation.null),a.setState({showInfoWindow:!1,activeMarker:null}))},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(){var e=this,t=[];this.state.allMarkers.forEach(function(a){e.props.filteredList.forEach(function(e){e.name===a.name&&t.push(a)})}),this.state.allMarkers.forEach(function(e){e.setVisible(!1)}),t.forEach(function(e){e.setVisible(!0)})}},{key:"componentWillReceiveProps",value:function(){var e=this.props.itemClicked;if(0!==Object.keys(e).length&&Object.keys(e).length>0){var t=this.state.allMarkers.find(function(t){return t.name===e.name});this.onMarkerClick(e,t)}}},{key:"render",value:function(){var e={lat:this.props.lat,lng:this.props.lng};return r.a.createElement("div",{id:"map-container",role:"application","aria-label":"Google Maps"},r.a.createElement(h.Map,{initialCenter:e,zoom:this.props.zoom,google:this.props.google,onReady:this.mapLoaded,onClick:this.onMapClick},r.a.createElement(h.InfoWindow,{marker:this.state.activeMarker,visible:this.state.showInfoWindow,onClose:this.onClose},r.a.createElement("div",null,r.a.createElement("h4",{className:"infoText"},this.state.activeMarker&&this.state.activeMarker.name),this.state.activeMarker&&this.state.activeMarker.url?r.a.createElement("a",{"aria-label":"restaurant website",href:this.state.activeMarker.url,target:"_blank",rel:"noopener noreferrer"},this.state.activeMarker.url):"",r.a.createElement("div",{className:"infoImage"},this.state.activeMarker&&this.state.currMarker&&this.state.currMarker.image?r.a.createElement("div",null,r.a.createElement("img",{alt:"Photo of "+this.state.activeMarker.name,src:this.state.currMarker.image.items[0].prefix+"cap100"+this.state.currMarker.image.items[0].suffix}),r.a.createElement("p",null,"Photo by FourSquare")):"Image Not Available")))))}}]),t}(n.Component),b=Object(h.GoogleApiWrapper)({apiKey:"AIzaSyBuL7mjc3O3hhrdTWuHRwdKv6k11bUbisk"})(k),w=a(12),y=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={lat:33.7592028,lng:-117.9897071,zoom:13,restaurantList:w.restaurants,filteredList:w.restaurants,itemClicked:{},sidebarOpen:!1},a.toggleSidebar=function(){return!0===a.state.sidebarOpen?(document.getElementById("sidebar").style.width=0,a.setState({sidebarOpen:!1})):!1===a.state.sidebarOpen?(document.getElementById("sidebar").style.width="320px",a.setState({sidebarOpen:!0})):void 0},a.updateFilteredList=function(e){a.setState({filteredList:e})},a.getItemClicked=function(e){a.setState({itemClicked:e},function(){return a.toggleSidebar()})},a.resetItemClicked=function(){a.setState({itemClicked:{}})},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",null,r.a.createElement("div",null,r.a.createElement("button",{className:"menuBtn","aria-label":"show menu",onClick:this.toggleSidebar},r.a.createElement("i",{className:"fas fa-bars"}))),r.a.createElement("div",{id:"page-title"},r.a.createElement("h1",null,"Restaurants near Westminster, CA"))),r.a.createElement(m,{restaurants:this.state.restaurantList,filteredList:this.state.filteredList,filterFunc:this.updateFilteredList,sidebarOpen:this.state.sidebarOpen,toggleSidebar:this.toggleSidebar,getItemClicked:this.getItemClicked}),r.a.createElement(b,{lat:this.state.lat,lng:this.state.lng,zoom:this.state.zoom,restaurants:this.state.restaurantList,filteredList:this.state.filteredList,itemClicked:this.state.itemClicked,resetItemClicked:this.resetItemClicked}))}}]),t}(n.Component),C=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function E(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}window.gm_authFailure=function(){o.a.render(r.a.createElement("h2",null,"Network Error: Unable to load Google Map. Try again later."),window.document.getElementById("root"))},o.a.render(r.a.createElement(y,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/Neighborhood-Maps/public/index.html",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/Neighborhood-Maps/public/index.html","/service-worker.js");C?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):E(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):E(t,e)})}}()}},[[15,2,1]]]);
//# sourceMappingURL=main.8dc03a70.chunk.js.map